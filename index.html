<!DOCTYPE html>
<html lang="en">
<head>
  <title>Data graber from google calendar</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/store/store.min.js"></script>
  <script src="js/html5.canvas/lib/canvas.js"></script>
  <script src="js/plugins/plugin.js"></script>
  <script src="js/app.js"></script>
</head>
<body>
    <div class="container">
      <div id="input">
        <div class="list">
          <fieldset>
            <legend>Info:</legend>
            <div class="info"></div>
          </fieldset>
          <fieldset>
          <legend>Data:</legend>
          <textarea id="input"></textarea>
          <buttongroup>
            <button name="fn.reset">Reset</button>
            <button name="fn.export">Exp. RLE</button>
            <button name="fn.analyze">Analyze</button>
          </buttongroup>
        </fieldset>
         <fieldset>
            <legend>Control:</legend>
            <ul class="settings"></ul>
            <!-- I'm lost -->
          </fieldset>
        </div>
      </div>
      <div id="output"></div>
    </div>
    <script type="text/javascript">
      var dir_plugins='js/plugins/';
      var plugins=['data','cal'];

      window.onload =function(){
        var application=new Application(document.getElementById('input'), 
                              document.getElementById('output'));

        if(window.Plugin && plugins.length){
          for(var i=0,ln=plugins.length;i<ln;i++){
            var plugin_name=plugins[i];
            Plugin.require(dir_plugins+plugin_name,function(e){
              console.log('who am i?');
              application.addPlugin(plugin_name);
            });
          }
        }else{
          console.log('window.load',window.Plugin,plugins.length);
        }

      }
    </script>
</body>
</html>