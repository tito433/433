<!DOCTYPE html>
<html>
<head>
	<title>Test page for js</title>
    <style type="text/css">
        #table p{
            border: 1px solid #444;
            padding: 10px;
            text-align: right;
        }
    </style>
</head>
<body>

<div id="table">
    
</div>
<button type="button" id="add">Add</button>
<script type="text/javascript">

// function modifyText() {
//     console.log('click');
//   var t2 = document.getElementById("t2");
//   if (t2.firstChild.nodeValue == "three") {
//     t2.firstChild.nodeValue = "two";
//   } else {
//     t2.firstChild.nodeValue = "three";
//   }
// }

// // add event listener to table
// var el = document.getElementById("output");
// el.addEventListener("click", modifyText, {'capture':true,'once':true});

// var table=document.getElementById('output');
// table.addEventListener("click",function(e){
//     console.log('table click');
// });
var div=document.getElementById('table');

document.getElementById('add').addEventListener('click',function(e){
    var template='<p><button>X</button></p>';
    
    div.innerHTML+=template;
});

div.addEventListener("click",function cb(e){
    var btn=e.target,p=btn.parentNode;
    if(btn instanceof HTMLButtonElement){
        div.removeChild(p);
    }
    
});



</script>
</body>
</html>